(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var t=function(){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t,n){return new Promise((function(s,o){var a=new XMLHttpRequest;a.open(e,t,n),a.setRequestHeader("Content-Type","application/json"),n=JSON.stringify(n),a.onload=function(){a.status>=200&&a.status<300?(s(a.response),console.log(a.response,"http response")):o(a.statusText)},a.onerror=function(){o("REJECT message inside onerror")},a.send(n)}))},(e="sendRequest")in this?Object.defineProperty(this,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[e]=n}var n,s;return n=t,(s=[{key:"post",value:function(e,t){return this.sendRequest("POST",e,t)}},{key:"get",value:function(e){return this.sendRequest("GET",e)}}])&&e(n.prototype,s),t}();function n(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(new(function(){function e(){var n,s,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s=function(){""!==o.emailField.value&&""!==o.passwordField.value?o.postButton.disabled=!1:o.postButton.disabled=!0},(n="enableButton")in this?Object.defineProperty(this,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[n]=s,this.httpRequest=new t,this.passwordField=document.getElementById("password"),this.emailField=document.getElementById("email"),this.textArea=document.getElementById("logData"),this.postButton=document.getElementById("post-request-button"),this.postButton.disabled=!0,this.getButton=document.getElementById("get-request-button"),this.form=document.getElementById("form")}var s,o;return s=e,(o=[{key:"addEventListeners",value:function(){var e=this;this.passwordField.addEventListener("change",this.enableButton),this.emailField.addEventListener("change",this.enableButton),this.form.addEventListener("submit",(function(e){e.preventDefault()})),this.getButton.addEventListener("click",(function(){e.httpRequest.get("http://localhost:8080/get-data").then((function(t){e.showResponseData(t)})).catch((function(e){console.log(e)}))})),this.postButton.addEventListener("click",(function(){var t={email:e.emailField.value,password:e.passwordField.value};e.textArea.innerText="",e.httpRequest.post("http://localhost:8080/post-data",t).then((function(t){e.showResponseData(t)})).catch((function(e){console.log(e)}))}))}},{key:"showResponseData",value:function(e){if(""!==e)for(var t in e=JSON.parse(e),console.log(e,"displayData"),e)""!==e[t]&&(this.textArea.innerHTML="email: ".concat(e.email,"\npassword: ").concat(e.password));else this.textArea.innerHTML="no data to display"}}])&&n(s.prototype,o),e}())).addEventListeners()})();